(this["webpackJsonpmelody-world-client"]=this["webpackJsonpmelody-world-client"]||[]).push([[11],{271:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return u}));var n=a(259),l=a(0);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},a={},r=Object.keys(e);r.map((function(r){var c=Object(l.useState)(e[r]),u=Object(n.a)(c,2);t[r]=u[0],a[r]=u[1]}));var c=Object(l.useRef)(t),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object.keys(e);n.map((function(t){if(null===r.find((function(e){return e===t})))throw new Error("\n                    \u4e0d\u652f\u6301\u66f4\u65b0\u6ca1\u6709\u521d\u59cb\u5316\u8fc7\u7684state:".concat(t,",\n                    \u8bf7\u5728useConstructor\u7684\u65f6\u5019\u521d\u59cbstate:").concat(t,"\n                "));a[t](e[t]),c.current[t]=e[t]})),t&&t(c.current)};return{state:c.current,setState:u}}function c(e){Object(l.useEffect)(e,[])}function u(e){Object(l.useLayoutEffect)((function(){return e}),[])}},369:function(e,t,a){e.exports={logopng:"Logo_logopng__zmPM8",llw:"Logo_llw__ooGaa"}},370:function(e,t,a){e.exports={layout:"router_layout__1NqRB",header:"router_header__3dtWS",sider:"router_sider__29EAm",logobox:"router_logobox__2CVvP",userbox:"router_userbox__3HqvH",topMenuItems:"router_topMenuItems__3rAZ8"}},706:function(e,t,a){"use strict";a.r(t);var n=a(75),l=a(76),r=a(78),c=a(77),u=a(79),o=a(0),i=a.n(o),s=a(193),m=a(260),d=a(35),p=a(696),b=a(174),h=a(173),f=a(707),E=[{key:"/",to:"/",title:"\u4e3b\u9875",value:"home"},{key:"/js",to:"/js",title:"js\u6838\u5fc3",value:"js"},{key:"/react_0",to:"/react_0",title:"react\u57fa\u7840",value:"react_0"},{key:"/react_1",to:"/react_1",title:"react\u9ad8\u9636",value:"react_1"},{key:"/react_2",to:"/react_2",title:"react\u62d3\u5c55",value:"react_2"},{key:"/webpack",to:"/webpack",title:"webpack",value:"webpack"},{key:"/es6",to:"/es6",title:"es6+\u62d3\u5c55",value:"es6"},{key:"/realcc",to:"/realcc",title:"\u5927\u524d\u7aef\u62d3\u5c55",value:"realcc"},{key:"/friend",to:"/friend",title:"\u8d5e\u52a9",value:"friend"}],y=E.map((function(e){return i.a.createElement(f.a.Item,{key:e.key},i.a.createElement(s.b,{to:e.to},e.title))}));var v=function(e){var t=e.path,a=void 0===t?"/":t,n=e.handleTopMenuChange;return i.a.createElement(f.a,{theme:"dark",mode:"horizontal",selectedKeys:[a],style:{lineHeight:"64px"},onSelect:n},y)},k=a(70),g=f.a.SubMenu;function _(e,t){return e.map((function(e){return i.a.createElement(f.a.Item,{key:"/"+e.type+"/"+e.key},i.a.createElement(s.b,{to:"/"===t?t+e.type+"/"+e.key:t+"/"+e.type+"/"+e.key},e.title))}))}var j=function(e){var t=e.path,a=e.handleSiderMenuChange,n=e.siderMenuItems,l=void 0===n?[]:n,r=l.filter((function(e){return"blobs"===e.type})),c=l.filter((function(e){return"class_video"===e.type}));return i.a.createElement(f.a,{theme:"dark",mode:"inline",style:{paddingTop:"10px"},selectedKeys:[window.location.pathname.replace(t+"/","/")],onSelect:a},i.a.createElement(f.a.Item,{key:t},i.a.createElement(s.b,{to:t},i.a.createElement(k.a,{type:"inbox"}),"\u6982\u8ff0")),i.a.createElement(g,{key:"/blobs",title:i.a.createElement("span",null,i.a.createElement(k.a,{type:"inbox"}),"\u535a\u5ba2")},_(r,t)),i.a.createElement(g,{key:"/class_video",title:i.a.createElement("span",null,i.a.createElement(k.a,{type:"inbox"}),"\u8bfe\u7a0b")},_(c,t)))},O=a(259),M=a(84),S=a.n(M),w=a(15),x=a.n(w),C=a(271);function I(e){var t=e.dom,a=e.children,n=t||document.body,l=Object(o.useRef)(document.createElement("div"));return Object(C.a)((function(){n.appendChild(l.current)})),Object(C.b)((function(){n.removeChild(l.current)})),x.a.createPortal(a,l.current)}var K=a(369),P=a.n(K);function z(e){return i.a.createElement("div",{className:P.a.llw,onClick:e.onClick},i.a.createElement("img",{src:S.a}))}var D,N=function(){var e=Object(o.useState)(!1),t=Object(O.a)(e,2),a=t[0],n=t[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement("img",{className:P.a.logopng,src:S.a,onClick:function(){return n(!0)}}),a&&i.a.createElement(I,null,i.a.createElement(z,{onClick:function(){return n(!1)}})))},T=a(33),A=a(370),B=a.n(A),H=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(14)]).then(a.bind(null,697))})),L=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(13)]).then(a.bind(null,698))})),R=Object(o.lazy)((function(){return a.e(16).then(a.bind(null,699))})),W=Object(o.lazy)((function(){return a.e(17).then(a.bind(null,700))})),q=Object(o.lazy)((function(){return Promise.all([a.e(1),a.e(2),a.e(9)]).then(a.bind(null,708))})),F=Object(o.lazy)((function(){return Promise.all([a.e(1),a.e(2),a.e(10)]).then(a.bind(null,701))})),J=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(8)]).then(a.bind(null,702))})),U=Object(o.lazy)((function(){return a.e(12).then(a.bind(null,709))})),G=p.a.Header,V=p.a.Content,Z=p.a.Footer,Q=p.a.Sider,X=Object(d.b)((function(){return{}}),(function(e){return{dispatch:e}}))(D=function(e){function t(e){var a;Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).updateSiderMenu=function(e){Object(T.b)("/blob/getAllTitle",{department:e}).then((function(e){var t=e||{},n=t.code,l=t.msg,r=void 0===l?"":l,c=t.data,u=void 0===c?[]:c;if(200!==n)return b.a.error(r);a.setState({siderMenuItems:u})}))},a.handleTopMenuChange=function(e){a.setState({path:e.key,siderKey:"/"});var t=E.find((function(t){return t.to===e.key}));if(t){var n=t.value;a.updateSiderMenu(n),a.getMDBysiderKey(e.key)}},a.handleSiderMenuChange=function(e){a.setState({siderKey:e.key}),a.getMDBysiderKey(e.key)},a.getMDBysiderKey=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=-1!==e.indexOf("blobs"),n=-1!==e.indexOf("class_video"),l=!t&&!n,r=a.props.dispatch;t&&r({type:"UPDATE_BLOBMD",payload:{values:{key:e.replace("/blobs/","")}}}),n&&e.replace("/class_video/",""),l&&r({type:"UPDATE_HOMEMD",payload:{values:{key:"/"===e?"home-home":e.replace("/","")+"-home"}}})};var l=window.location.pathname.split("/"),u=l[1]?"/"+l[1]:"/",o=l[2]?"/"+l[2]:"/";return"/"!==u&&"/blobs"!==u&&"/class_video"!==u||(o=u,u="/"),a.state={path:u,siderKey:o,siderMenuItems:[]},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.state,t=e.path,a=e.siderKey,n=E.find((function(e){return e.to===t}));if(n){var l=n.value;this.updateSiderMenu(l),this.getMDBysiderKey(a)}}},{key:"render",value:function(){var e=this.state,t=e.path,a=e.siderKey,n=e.siderMenuItems;return i.a.createElement(s.a,null,i.a.createElement(m.c,null,i.a.createElement(m.a,{path:"/register"},i.a.createElement(o.Suspense,{fallback:i.a.createElement(h.a,null)},i.a.createElement(F,null))),i.a.createElement(m.a,{path:"/login"},i.a.createElement(o.Suspense,{fallback:i.a.createElement(h.a,null)},i.a.createElement(q,null))),i.a.createElement(m.a,{path:"/uploadAdmin"},i.a.createElement(o.Suspense,{fallback:i.a.createElement(h.a,null)},i.a.createElement(J,null))),i.a.createElement(m.a,{path:"/"},i.a.createElement(p.a,{className:B.a.layout},i.a.createElement(G,{className:B.a.header},i.a.createElement("div",{className:B.a.logobox},i.a.createElement(N,null)),i.a.createElement("div",{className:B.a.topMenuItems},i.a.createElement(v,{path:t,handleTopMenuChange:this.handleTopMenuChange})),i.a.createElement(U,null)),i.a.createElement(p.a,null,i.a.createElement(Q,{theme:"dark",collapsible:!0,className:B.a.sider,width:150,collapsedWidth:0},i.a.createElement(j,{handleSiderMenuChange:this.handleSiderMenuChange,path:t,siderKey:a,siderMenuItems:n})),i.a.createElement(V,{style:{padding:"20px 30px 0 40px"}},i.a.createElement("div",{style:{background:"#fff",padding:24,height:"100%",borderRadius:"10px",overflow:"hidden"}},i.a.createElement(m.c,null,i.a.createElement(m.a,{path:"/user"},i.a.createElement(o.Suspense,{fallback:i.a.createElement(h.a,null)},i.a.createElement(W,null))),i.a.createElement(m.a,{path:"/blobs"},i.a.createElement(o.Suspense,{fallback:i.a.createElement(h.a,null)},i.a.createElement(L,null))),i.a.createElement(m.a,{path:"/class_video"},i.a.createElement(o.Suspense,{fallback:i.a.createElement(h.a,null)},i.a.createElement(R,null))),i.a.createElement(m.a,{path:"/*/blobs"},i.a.createElement(o.Suspense,{fallback:i.a.createElement(h.a,null)},i.a.createElement(L,null))),i.a.createElement(m.a,{path:"/*/class_video"},i.a.createElement(o.Suspense,{fallback:i.a.createElement(h.a,null)},i.a.createElement(R,null))),i.a.createElement(m.a,{path:"/*/"},i.a.createElement(o.Suspense,{fallback:i.a.createElement(h.a,null)},i.a.createElement(H,null))))))),i.a.createElement(Z,{style:{textAlign:"center"}},i.a.createElement("div",null,"MW \xa92020 Created by melodyWxy"),i.a.createElement("div",null,i.a.createElement("a",{href:"http://www.beian.miit.gov.cn/",target:"_blank"},"\u6d59ICP\u590720001308\u53f7")))))))}}]),t}(o.Component))||D;t.default=X}}]);
//# sourceMappingURL=11.fee0bc7e.chunk.js.map